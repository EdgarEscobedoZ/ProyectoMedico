{% extends 'plantilla.html' %}

{% block body %}

        
    {% with mensajes= get_flashed_messages() %}
    {% if mensajes %}
    
        {% for msj in mensajes%}
    
            <script> Swal.fire('Datos Guardados', '¡Los datos se registraron con éxito!', 'success')</script>
    
        {%endfor%}
    {% endif %}
    {% endwith %}

    <div class="container text-center">
        <div class="row">   
                <h1 class="mt-5" style="color: white;">Expediente y Diagnóstico</h1>
                <div class="col-md-3"></div>
                <div class="col-md-6">
                    <form action="/exploracionBD" method="POST">
                        
                            <div class="card card-body mb-3">

                                    <div class="form-floating mb-3">
                                        <select class="form-select " name="medico">
                                            <option selected>Seleccione un Médico</option>
                                            {% for med in medicos %}
                                            <option value="{{med.0}}">{{med.0}}</option>
                                            {% endfor %}
                                        </select>
                                        <label for="">Médico</label>
                                    </div>

                                    <div class="form-floating mb-3">
                                        <select class="form-select" name="paciente">
                                            <option selected>Seleccione</option>
                                            {% for pac in pacientes %}
                                            <option value="{{pac.0}}">{{pac.0}}</option>
                                            {% endfor %}
                                        </select>
                                        <label for="">Paciente</label>
                                    </div>

                                    
                                    <h4>Datos de Exploración</h4>

                                    <div class="form-floating mb-3">
                                        <input type="date" class="form-control" name="fechaexp" id="ffecha" required>
                                        <label for="ffecha">Fecha de Exploración</label>
                                    </div>

                                    <div class="form-floating mb-3">
                                        <input class="form-control" type="number" name="altura" id="falt" placeholder="Altura (cm)" required>
                                        <label for="falt">Altura (cm)</label>
                                    </div>

                                    <div class="form-floating mb-3">
                                        <input class="form-control" type="number" name="temperatura" id="ftemp" placeholder="Temperatura (ºC)" required>
                                        <label for="ftemp">Temperatura (ºC)</label>
                                    </div>

                                    <div class="form-floating mb-3">
                                        <input class="form-control" type="number" name="latidos" id="flat" placeholder="Latidos por minuto" required>
                                        <label for="flat">Latidos por minuto</label>
                                    </div>

                                    <div class="form-floating mb-3">
                                        <input class="form-control" type="number" name="saturacion" id="fsat" placeholder="Saturación de Oxígeno en Glucosa (%)" required>
                                        <label for="fsat">Saturación de Oxígeno en Glucosa (%)</label>
                                    </div>             
                            </div>

                        <div  class="card card-body mb-3">
                                <h4>Datos de Diagnóstico</h4>
    
                                <div class="form-floating mb-3">
                                    <textarea class="form-control" placeholder="Ingrese" name="sintomas" id="tsin" required></textarea>
                                    <label for="tsin">Síntomas</label>
                                </div>
    
                                <div class="form-floating mb-3">
                                    <textarea class="form-control" placeholder="Ingrese" name="tratamiento" id="trat" required></textarea>
                                    <label for="trat">Tratamiento</label>
                                </div> 
                                
                                <div class="form-check mb-3" style="text-align: left;">
                                    <input class="form-check-input" type="checkbox" value="Sí" name="estudios" id="flexCheckIndeterminate">
                                    <label class="form-check-label" for="flexCheckIndeterminate">
                                      Requiere Estudios
                                    </label>
                                  </div>
                        </div>

                        <div class="card card-body mb-3">
                            <button type="submit" class="btn btn-primary">Guardar</button>
                        </div>
                    </form> 
                </div> 

                <div class="col-md-3"></div>
                
        </div>          
        </div>
    </div>



{% endblock %}